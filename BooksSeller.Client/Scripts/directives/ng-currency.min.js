!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define("ng-currency",["angular"],t):"object"==typeof exports?exports["ng-currency"]=t(require("angular")):n["ng-currency"]=t(n.angular)}(this,function(n){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=0)}([function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var f=i(1),e=r(f),o=i(2),s=r(o),h=i(3),c=r(h),u=e.default.module("ng-currency",[]);u.provider("ngCurrencySettings",s.default);u.directive("ngCurrency",c.default);t.default=u.name},function(t){t.exports=n},function(n,t){"use strict";function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),u=function(){function n(){i(this,n);this._defaults={fraction:2,hardCap:!1,min:void 0,max:void 0,currencySymbol:void 0}}return r(n,[{key:"$get",value:function(){var n=this;return{get defaults(){return n.defaults}}}},{key:"defaults",get:function(){return this._defaults},set:function(n){this._defaults=n}}]),n}();t.default=u},function(n,t){"use strict";function i(n,t,i,r){return{require:"ngModel",link:function(u,f,e,o){function l(){var t,i;if(s){var n=void 0,r=void 0,u=void 0;if(o.$options&&(o.$options.getOption?(r=o.$options.getOption("updateOn"),u=o.$options.getOption("debounce")):(r=o.$options.updateOn,u=o.$options.debounce)),"blur"===r||u)for(n=o.$viewValue,t=o.$parsers.length-1;t>=0;t--)n=o.$parsers[t](n);else n=o.$$rawModelValue;for(i=o.$formatters.length-1;i>=0;i--)n=o.$formatters[i](n);o.$viewValue=n;o.$render()}}function a(){if(o.$validate(),s){var n=b(o.$$rawModelValue);n!==o.$$rawModelValue&&(o.$setViewValue(n.toFixed(y)),o.$commitViewValue(),l())}}function b(n){return nt&&(void 0!==c&&n>c?n=c:void 0!==h&&n<h&&(n=h)),n}function k(n){return RegExp("\\d|\\-|\\"+n,"g")}function tt(n){return RegExp("\\-{0,1}((\\"+n+")|([0-9]{1,}\\"+n+"?))&?[0-9]{0,"+y+"}","g")}function d(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i=String(i);var u=t.NUMBER_FORMATS.DECIMAL_SEP,r=null,e=n("currency")("-1",g(),y),f=RegExp("[0-9."+u+t.NUMBER_FORMATS.GROUP_SEP+"]+");return e.replace(f.exec(e),"")===i.replace(f.exec(i),"")&&(i="-"+f.exec(i)),RegExp("^-[\\s]*$","g").test(i)&&(i="-0"),k(u).test(i)&&(r=i.match(k(u)).join("").match(tt(u))||[""],r=r[0],r=o?r.replace(u,"."):r),r||null}function g(){return void 0===p?t.NUMBER_FORMATS.CURRENCY_SYM:p}var v=r.defaults,nt=v.hardCap,h=v.min,c=v.max,p=v.currencySymbol,y=v.fraction,w=e.required,s=!0;e.$observe("ngCurrency",function(n){s="false"!==n;s?l():(o.$viewValue=o.$$rawModelValue,o.$render())});e.$observe("hardCap",function(n){nt="true"===n;a()});e.$observe("min",function(n){h=n?Number(n):void 0;a()});e.$observe("max",function(n){c=n?Number(n):void 0;a()});e.$observe("currencySymbol",function(n){p=n;l()});e.$observe("required",function(n){w=n;a()});e.$observe("fraction",function(n){y=n||2;l();a()});i(function(){u.$emit("currencyRedraw")});o.$parsers.push(function(n){return s&&-1===[void 0,null,""].indexOf(n)?(n=d(n),n=b(Number(n))):n});o.$formatters.push(function(t){return s&&-1===[void 0,null,""].indexOf(t)?n("currency")(t,g(),y):t});o.$validators.min=function(n){return!(w||-1===[void 0,null,""].indexOf(n)&&!isNaN(n))||!s||-1!==[void 0,null].indexOf(h)||isNaN(h)||n>=h};o.$validators.max=function(n){return!(w||-1===[void 0,null,""].indexOf(n)&&!isNaN(n))||!s||-1!==[void 0,null].indexOf(c)||isNaN(c)||n<=c};o.$validators.fraction=function(n){return!s||!n||!isNaN(n)};u.$on("currencyRedraw",function(){a();l()});f.bind("focus",function(){if(s){var n=d(o.$viewValue,!1);o.$viewValue!==n&&(o.$viewValue=n,o.$render(),f.triggerHandler("focus"))}});f.bind("blur",l)}}}Object.defineProperty(t,"__esModule",{value:!0});t.default=i;i.$inject=["$filter","$locale","$timeout","ngCurrencySettings"]}])});